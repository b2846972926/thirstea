import{a as i}from"./index-t--hEgTQ.js";import{c,a as o,h as l,v as u,d as p,o as m}from"./index-214loSil.js";import{_ as h}from"./plugin-vueexport-helper-DlAUqK2U.js";const f={data(){return{user:{username:"",password:""}}},methods:{async signIn(){const t="https://vue3-course-api.hexschool.io/admin/signin",s=this.$loading.show(),e=await i.post(t,this.user);if(s.hide(),e.data.success){const{token:a,expired:r}=e.data;document.cookie=`hexToken=${a}; expires=${new Date(r)}`,this.$router.push("/dashboard/products")}},async createOrder(){const t="undefinedapi/undefined/order",s=this.form,e=await i.post(t,{data:s});console.log(e)}},async created(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");i.defaults.headers.common.Authorization=t;const s="https://vue3-course-api.hexschool.io/api/user/check",e=this.$loading.show(),a=await i.post(s);e.hide(),a.data.success&&this.$router.push("/dashboard/products")}},w={class:"container mt-5"},b={class:"col-md-6"},v={class:"mb-2"},x={class:"mb-2"};function $(t,s,e,a,r,d){return m(),c("div",w,[o("form",{class:"row justify-content-center",onSubmit:s[2]||(s[2]=p((...n)=>d.signIn&&d.signIn(...n),["prevent"]))},[o("div",b,[s[5]||(s[5]=o("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1)),o("div",v,[s[3]||(s[3]=o("label",{for:"inputEmail",class:"sr-only"},"Email address",-1)),l(o("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":s[0]||(s[0]=n=>r.user.username=n)},null,512),[[u,r.user.username]])]),o("div",x,[s[4]||(s[4]=o("label",{for:"inputPassword",class:"sr-only"},"Password",-1)),l(o("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=n=>r.user.password=n)},null,512),[[u,r.user.password]])]),s[6]||(s[6]=o("div",{class:"text-end mt-4"},[o("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"登入")],-1))])],32)])}const E=h(f,[["render",$],["__scopeId","data-v-21780558"]]);export{E as default};
