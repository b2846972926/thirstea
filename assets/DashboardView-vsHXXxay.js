import{a as u}from"./index-t--hEgTQ.js";import{c as v,a as s,d as o,e as d,r,b as h,o as b,f as p,F as m,g as k}from"./index-DGNjFhZQ.js";import{T as $}from"./ToastMessages-5hMS9lEn.js";import{_}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./component-functions-DbZz4qGT.js";const x={methods:{async logout(){const t="https://vue3-course-api.hexschool.io/logout",a=this.$loading.show(),e=await u.post(t);a.hide(),e.data.success&&this.$router.push("/login")}}},w={class:"navbar navbar-expand-lg navbar-dark bg-dark"},N={class:"container-fluid"},T={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},A={class:"navbar-nav"};function M(t,a,e,i,f,l){const n=r("router-link");return b(),v("nav",w,[s("div",N,[a[4]||(a[4]=s("a",{class:"navbar-brand",href:"#"},"雞茶大隊 ThirsTea",-1)),a[5]||(a[5]=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1)),s("div",T,[s("div",A,[o(n,{to:"/dashboard/products",class:"nav-link"},{default:d(()=>a[1]||(a[1]=[p("產品")])),_:1}),o(n,{to:"/dashboard/orders",class:"nav-link"},{default:d(()=>a[2]||(a[2]=[p("訂單")])),_:1}),o(n,{to:"/dashboard/coupons",class:"nav-link"},{default:d(()=>a[3]||(a[3]=[p("優惠券")])),_:1}),s("a",{href:"#",onClick:a[0]||(a[0]=h((...c)=>l.logout&&l.logout(...c),["prevent"])),class:"nav-link"},"登出")])])])])}const V=_(x,[["render",M]]),y={components:{AppNavbar:V,ToastMessages:$},provide(){return{emitter:k}},async created(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");u.defaults.headers.common.Authorization=t;const a="https://vue3-course-api.hexschool.io/api/user/check",e=this.$loading.show(),i=await u.post(a);e.hide(),i.data.success||this.$router.push("/login")}},B={class:"container-fluid mt-3 position-relative"};function C(t,a,e,i,f,l){const n=r("AppNavbar"),c=r("ToastMessages"),g=r("router-view");return b(),v(m,null,[o(n),s("div",B,[o(c),o(g)])],64)}const q=_(y,[["render",C]]);export{q as default};
