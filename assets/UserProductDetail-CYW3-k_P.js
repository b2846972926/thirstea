import{a as u}from"./index-t--hEgTQ.js";import{_ as h}from"./plugin-vueexport-helper-DlAUqK2U.js";import{c as i,a as o,d as _,e as m,r as g,t as e,h as d,o as n,f as b}from"./index-CkZFWMzJ.js";const f={data(){return{product:{},id:""}},methods:{async getProduct(){const c=`https://vue3-course-api.hexschool.io/api/rosie-api/product/${this.id}`,s=this.$loading.show(),r=await u.get(c);s.hide(),console.log(r.data),this.isLoading=!1,r.data.success&&(this.product=r.data.product)},async addToCart(c,s=1){const r="https://vue3-course-api.hexschool.io/api/rosie-api/cart",l={product_id:c,qty:s},t=this.$loading.show(),a=await u.post(r,{data:l});t.hide(),this.$httpMessageState(a,"加入購物車"),this.$router.push("/cart")}},created(){this.id=this.$route.params.productId,this.getProduct()}},v={class:"container"},k={"aria-label":"breadcrumb"},x={class:"breadcrumb"},y={class:"breadcrumb-item"},w={class:"breadcrumb-item active","aria-current":"page"},C={class:"row justify-content-center"},N={class:"col-8"},V=["src"],B={class:"col-4"},P={key:0,class:"h5"},T={key:1,class:"h6"},D={key:2,class:"h5"};function S(c,s,r,l,t,a){const p=g("router-link");return n(),i("div",v,[o("nav",k,[o("ol",x,[o("li",y,[_(p,{to:"/user/cart"},{default:m(()=>s[1]||(s[1]=[b("購物車")])),_:1})]),o("li",w,e(t.product.title),1)])]),o("div",C,[o("article",N,[o("h2",null,e(t.product.title),1),o("div",null,e(t.product.content),1),o("div",null,e(t.product.description),1),o("img",{src:t.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,V)]),o("div",B,[t.product.price?d("",!0):(n(),i("div",P,e(t.product.origin_price)+" 元",1)),t.product.price?(n(),i("del",T,"原價 "+e(t.product.origin_price)+" 元",1)):d("",!0),t.product.price?(n(),i("div",D,"現在只要 "+e(t.product.price)+" 元",1)):d("",!0),s[2]||(s[2]=o("hr",null,null,-1)),o("button",{type:"button",class:"btn btn-outline-danger",onClick:s[0]||(s[0]=U=>a.addToCart(t.product.id))}," 加到購物車 ")])])])}const I=h(f,[["render",S]]);export{I as default};
