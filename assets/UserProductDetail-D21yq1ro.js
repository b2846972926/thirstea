import{a as l}from"./index-t--hEgTQ.js";import{c as i,a as o,b as h,w as _,r as m,t as e,g as a,f as g,o as n,e as b}from"./index-CRQ1Ln7N.js";import{_ as f}from"./plugin-vueexport-helper-DlAUqK2U.js";const v={data(){return{product:{},id:""}},methods:{async getProduct(){const c=`https://vue3-course-api.hexschool.io/api/rosie-api/product/${this.id}`,s=this.$loading.show(),r=await l.get(c);s.hide(),console.log(r.data),r.data.success&&(this.product=r.data.product)},async addToCart(c,s=1){const r="https://vue3-course-api.hexschool.io/api/rosie-api/cart",u={product_id:c,qty:s},t=this.$loading.show(),d=await l.post(r,{data:u});t.hide(),this.$httpMessageState(d,"加入購物車"),this.$router.push("/products"),g.emit("update-cart")}},created(){this.id=this.$route.params.productId,this.getProduct()}},k={class:"container"},x={"aria-label":"breadcrumb"},y={class:"breadcrumb"},w={class:"breadcrumb-item"},C={class:"breadcrumb-item active","aria-current":"page"},N={class:"row justify-content-center"},V={class:"col-8"},B=["src"],P={class:"col-4"},T={key:0,class:"h5"},D={key:1,class:"h6"},S={key:2,class:"h5"};function U(c,s,r,u,t,d){const p=m("router-link");return n(),i("div",k,[o("nav",x,[o("ol",y,[o("li",w,[h(p,{to:"/products"},{default:_(()=>s[1]||(s[1]=[b("產品列表")])),_:1})]),o("li",C,e(t.product.title),1)])]),o("div",N,[o("article",V,[o("h2",null,e(t.product.title),1),o("div",null,e(t.product.content),1),o("div",null,e(t.product.description),1),o("img",{src:t.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,B)]),o("div",P,[t.product.price?a("",!0):(n(),i("div",T,e(t.product.origin_price)+" 元",1)),t.product.price?(n(),i("del",D,"原價 "+e(t.product.origin_price)+" 元",1)):a("",!0),t.product.price?(n(),i("div",S,"現在只要 "+e(t.product.price)+" 元",1)):a("",!0),s[2]||(s[2]=o("hr",null,null,-1)),o("button",{type:"button",class:"btn btn-outline-danger",onClick:s[0]||(s[0]=$=>d.addToCart(t.product.id))}," 加到購物車 ")])])])}const M=f(v,[["render",U]]);export{M as default};
